(function(t,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("react/jsx-runtime"),require("react")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.ReactDialogManager={},t.jsxRuntime,t.react))})(this,function(t,r,l){"use strict";function u(n){let e=n;const s=new Set;return{getSnapshot:()=>e,setState:o=>{e={...e,...o};for(const i of s)i(e)},subscribe:o=>(s.add(o),()=>s.delete(o))}}function a(){const n=u({dialog:null,resolver:null});return{close:o=>{const i=n.getSnapshot();i.resolver&&(i.resolver(o),n.setState({dialog:null,resolver:null}))},open:(o,i={})=>new Promise(p=>{n.setState({dialog:{Component:o,props:i},resolver:p})}),...n}}const c=l.createContext({close:()=>null,open:async()=>null}),d=()=>l.useContext(c);function f({children:n,manager:e}){const{dialog:s}=l.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot),o=l.useMemo(()=>({close:e.close,open:e.open}),[e.close,e.open]);return r.jsxs(c.Provider,{value:o,children:[n,s&&r.jsx(s.Component,{...s.props})]})}t.DialogContext=c,t.DialogProvider=f,t.createDialogflow=a,t.createStore=u,t.useDialog=d,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
